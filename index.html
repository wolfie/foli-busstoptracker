<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="x-ua-compatible" content="IE=11">
    <link rel='stylesheet' href='css/animate.css' type='text/css' media='all' />
    <link rel='stylesheet' href='css/styles.css' type='text/css' media='all' />
</head>
<body>
<header>
    <section id="left">
        <img src="images/foli_logo.png" alt="Föli">
    </section>
    <section id="middle">
        <br/>
        <span id="clock"></span>
    </section>
    <section id="right">
        <br/>
        <br/>
        <img src="images/lilja.png" alt="">
    </section>
</header>
<div id="tableheader">
    <div id="headerLine" data-swaptext="Linja|Linje"></div>
    <div id="headerDest" data-swaptext="Määränpää|Destination"></div>
    <div id="headerDepa" data-swaptext="Lähtö|Avgång"></div>
    <div id="headerStop" data-swaptext="Pys.|Stop"></div>
</div>
<span id="icontent"></span>

<script type="text/javascript">
    (function() {
        function updateClock() {
            var t = new Date();
            t.toString('yyyy-MM-dd');
            var H = t.getHours();
            var M = t.getMinutes();
            if (H < 10)
                H = "0" + H;
            if (M < 10)
                M = "0" + M;

            clock.textContent = H + ":" + M;
            setTimeout(updateClock, 1000);
        }
        updateClock();

        var SWAP_TEXT_SPEED_MILLIS = 5000;
        /**
         * Swap two pieces of text in an element.
         * <p>
         * The texts are taken from the <code>data-swaptext</code> attribute of the element
         *
         * @param {HTMLDivElement} element
         */
        function swapText(element) {
            //noinspection JSUnresolvedVariable
            var text = element.dataset.swaptext;
            if (!text) {
                element.textContent = "Can't find text to swap";
                return;
            }
            var splits = text.split('|', 2);

            if (!element.textContent ||
                    (element.textContent !== splits[0] && element.textContent !== splits[1]) ||
                    element.textContent === splits[1]) {
                element.textContent = splits[0];
            } else {
                element.textContent = splits[1];
            }
            setTimeout(function() {
                swapText(element);
            }, SWAP_TEXT_SPEED_MILLIS);
        }

        swapText(headerLine);
        swapText(headerDest);
        swapText(headerDepa);
        swapText(headerStop);
    })();
</script>

<script src="js/stops3.js" type="text/javascript"></script>
</body>
</html>